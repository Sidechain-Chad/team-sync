<%= turbo_frame_tag "new_comment_form" do %>
  <%= form_with(model: [card, Comment.new], class: "relative group") do |f| %>

    <%= f.text_area :content,
        rows: 1,
        class: "w-full border border-gray-200 rounded-md py-2 px-3 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm transition-all placeholder-gray-500",
        placeholder: "Write a comment...",
        style: "min-height: 40px;",
        data: {
          controller: "submit-on-enter",
          action: "keydown->submit-on-enter#submit"
        },
        onclick: "this.rows = 3; document.getElementById('comment_toolbar').classList.remove('hidden');"
    %>

    <%# Changed 'hidden' logic slightly so it stays visible if typing %>
    <div id="comment_toolbar" class="hidden mt-2 flex items-center gap-2">
       <%# CHANGED LABEL TO 'Send' %>
       <%= f.submit "Send", class: "bg-blue-600 text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-blue-700 cursor-pointer shadow-sm" %>
    </div>

  <% end %>
<% end %>
